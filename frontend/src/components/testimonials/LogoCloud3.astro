---
// foundations
import Wrapper from "@/components/foundations/containers/Wrapper.astro";
import SanityImage from "@/components/foundations/elements/SanityImage.astro";

interface Props {
  feature?: {
    images?: Array<
      {
        image: { asset?: { _ref?: string; _id?: string; altText?: string }; assetAltText?: string; alt?: string };
        class?: string;
        loading?: "lazy" | "eager";
      }
    >;
  };
}

const { feature } = Astro.props as Props;
const images = feature?.images ?? [];

if (!feature || images.length === 0) {
  return null;
}
---

<section class="logo-cloud-3 overflow-hidden">
    <div
      class="marquee relative flex items-center py-8 gap-12 lg:gap-24 whitespace-nowrap">
      <div class="marquee-track flex items-center">
        {
          images.map((img) => (
            <div class="icon-wrapper">
              <SanityImage
                image={img.image}
                class={(img.class || "") + " h-4 w-full object-contain"}
                loading={img.loading}
              />
            </div>
          ))
        }
      </div>
      <div class="marquee-track flex items-center" aria-hidden="true">
        {
          images.map((img) => (
            <div class="icon-wrapper">
              <SanityImage
                image={img.image}
                class={(img.class || "") + " h-4 w-full object-contain"}
                loading={img.loading}
              />
            </div>
          ))
        }
      </div>
    </div>


</section>

<style>
  .icon-wrapper {
    width: 200px;
    height: 200px;
  }
</style>
